var onFontLoad=function(){"use strict";function e(e){this._font=e}function t(e){this._delay=e,this._tasks=[]}function n(t,n){function r(e){return{family:e,weight:n.weight||400,style:n.style||"normal",testText:n.testText||"BESbswy"}}this._interval=t,this._localA=new e(r("serif")),this._localB=new e(r("sans-serif")),this._stackA=new e(r(n.family+", serif")),this._stackB=new e(r(n.family+", sans-serif"))}return e.prototype.insert=function(){this._span=document.createElement("span"),this._span.setAttribute("aria-hidden","true"),this._span.innerHTML=this._font.testText,this._span.style.display="block",this._span.style.position="absolute",this._span.style.top="-9999px",this._span.style.left="-9999px",this._span.style.width="auto",this._span.style.height="auto",this._span.style.margin="0",this._span.style.padding="0",this._span.style.whiteSpace="nowrap",this._span.style.lineHeight="normal",this._span.style.fontSize="300px",this._span.style.fontVariant="normal",this._span.style.fontStyle=this._font.style,this._span.style.fontWeight=this._font.weight,this._span.style.fontFamily=this._font.family,document.body.appendChild(this._span)},e.prototype.remove=function(){document.body.removeChild(this._span)},e.prototype.getWidth=function(){return this._span.offsetWidth},t.prototype._generateId=function(){return Math.floor(Math.random()*1e7)},t.prototype._getTaskIndex=function(e){for(var t=0;t<this._tasks.length;t++)if(this._tasks[t].id==e)return t;return-1},t.prototype._runTasks=function(){for(var e=0;e<this._tasks.length;e++)this._tasks[e].task()},t.prototype._start=function(){this._interval=setInterval(this._runTasks.bind(this),this._delay)},t.prototype._stop=function(){clearInterval(this._interval),this._interval=undefined},t.prototype._isRunning=function(){return this._interval!==undefined},t.prototype.register=function(e){var t=this._generateId();return this._tasks.push({id:t,task:e}),this._isRunning()||this._start(),t},t.prototype.unregister=function(e){var t=this._getTaskIndex(e);t!=-1&&this._tasks.splice(t,1),this._tasks.length||this._stop()},n.prototype.stop=function(){this.isDone()||(this._interval.unregister(this._intervalId),this._intervalId=undefined,this._localA.remove(),this._localB.remove(),this._stackA.remove(),this._stackB.remove())},n.prototype._check=function(){var e=!1;return e=e||this._stackA.getWidth()!=this._localA.getWidth(),e=e||this._stackB.getWidth()!=this._localB.getWidth(),e=e&&this._stackA.getWidth()==this._stackB.getWidth(),e&&this.stop(),e},n.prototype.start=function(){this._localA.insert(),this._localB.insert(),this._stackA.insert(),this._stackB.insert(),this._check()||(this._intervalId=this._interval.register(this._check.bind(this)))},n.prototype.isDone=function(){return this._intervalId===undefined},function(e,r){var i=new t(50),s=(new Date).getTime(),o=[],u;for(var a=0;a<e.length;a++)o.push(new n(i,e[a])),o[a].start();u=i.register(function(){var e=!0,t;for(t=0;t<o.length;t++)e=e&&o[t].isDone();if(e)i.unregister(u),r(!0);else{var n=(new Date).getTime()-s>3e3;if(n){i.unregister(u);for(t=0;t<o.length;t++)o[t].stop();r(!1)}}})}}();
